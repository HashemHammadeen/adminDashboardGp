<%= form_with(model: user, class: "space-y-6") do |f| %>
  <% if user.errors.any? %>
    <div class="bg-error-50 border-l-4 border-error-400 p-4 mb-6">
      <div class="flex">
        <div class="ml-3">
          <h3 class="text-sm font-medium text-error-800">
            <%= pluralize(user.errors.count, "error") %> prohibited this user from being saved:
          </h3>
          <ul class="mt-2 text-sm text-error-700 list-disc list-inside">
            <% user.errors.full_messages.each do |message| %>
              <li><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <div class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6">
    <div class="sm:col-span-3">
      <%= f.label :firstname, "First Name", class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_field :firstname, class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" %>
      </div>
    </div>

    <div class="sm:col-span-3">
      <%= f.label :lastname, "Last Name", class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_field :lastname, class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" %>
      </div>
    </div>

    <div class="sm:col-span-4">
      <%= f.label :email, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.email_field :email, class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" %>
      </div>
    </div>

    <div class="sm:col-span-2">
      <%= f.label :phone, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.text_field :phone, class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" %>
      </div>
    </div>

    <div class="sm:col-span-3">
      <%= f.label :tier_id, "User Tier", class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.collection_select :tier_id, @tiers, :id, :tier_name,
                                { prompt: "Select a Tier" },
                                { class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" } %>
      </div>
    </div>

    <div class="sm:col-span-3">
      <%= f.label :gender, class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.select :gender, ['Male', 'Female', 'Other'],
                     { include_blank: "Select Gender" },
                     { class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" } %>
      </div>
    </div>

    <div class="sm:col-span-6">
      <%= f.label :password_hash, "Password", class: "block text-sm font-medium text-gray-700" %>
      <div class="mt-1">
        <%= f.password_field :password_hash, class: "shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md p-2 border" %>
      </div>
    </div>

  </div> <%# End of Grid %>

  <div class="pt-5 border-t border-gray-200 flex justify-end space-x-3">
    <%= link_to "Cancel", (user.new_record? ? users_path : user_path(user)), class: "bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" %>
    <%= f.submit user.new_record? ? "Create User Account" : "Update User Profile",
                 class: "inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary" %>
  </div>
<% end %>